<!DOCTYPE html>
<html lang="zh">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta name="keywords" content="LightYear,LightYearAdmin">
    <meta name="description" content="Bootstrap v4.4.1的后台管理系统的HTML模板。">
    <meta name="author" content="yinq">
    <title>首页 - 后台管理系统模板</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/index.css">

</head>

<body>

    <!--页面loading end-->
    <div class="lyear-layout-web">
        <div class="lyear-layout-container">
            <!--左侧导航-->
            <aside class="lyear-layout-sidebar">

                <!-- logo -->
                <div id="logo" class="sidebar-header">
                    <a href="index.html"><img src="images/logo-sidebar.png" title="LightYear" alt="LightYear" /></a>
                </div>
                <div class="lyear-layout-sidebar-info lyear-scroll">

                    <nav class="sidebar-main">
                        <ul class="nav-drawer">
                            <li class="nav-item active">
                                <a href="index.html">
                                    <svg class="bi bi-house-door" width="1em" height="1em" viewBox="0 0 16 16"
                                        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd"
                                            d="M7.646 1.146a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 .146.354v7a.5.5 0 0 1-.5.5H9.5a.5.5 0 0 1-.5-.5v-4H7v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .146-.354l6-6zM2.5 7.707V14H6v-4a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4h3.5V7.707L8 2.207l-5.5 5.5z" />
                                        <path fill-rule="evenodd"
                                            d="M13 2.5V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
                                    </svg>
                                    <span>后台首页</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                    <div class="lyear-layout-sidebar-info lyear-scroll">

                        <nav class="sidebar-main">
                            <ul class="nav-drawer">
                                <li class="nav-item ">
                                    <a href="mian.html">
                                        <svg class="bi bi-house-door" width="1em" height="1em" viewBox="0 0 16 16"
                                            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd"
                                                d="M7.646 1.146a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 .146.354v7a.5.5 0 0 1-.5.5H9.5a.5.5 0 0 1-.5-.5v-4H7v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .146-.354l6-6zM2.5 7.707V14H6v-4a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4h3.5V7.707L8 2.207l-5.5 5.5z" />
                                            <path fill-rule="evenodd"
                                                d="M13 2.5V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
                                        </svg>
                                        <span>文档列表</span>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                        <nav class="sidebar-main">
                            <ul class="nav-drawer">
                                <li class="nav-item">
                                    <a href="line.html">
                                        <svg class="bi bi-house-door" width="1em" height="1em" viewBox="0 0 16 16"
                                            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                            <path fill-rule="evenodd"
                                                d="M7.646 1.146a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 .146.354v7a.5.5 0 0 1-.5.5H9.5a.5.5 0 0 1-.5-.5v-4H7v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .146-.354l6-6zM2.5 7.707V14H6v-4a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4h3.5V7.707L8 2.207l-5.5 5.5z" />
                                            <path fill-rule="evenodd"
                                                d="M13 2.5V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z" />
                                        </svg>
                                        <span>图标展示</span>
                                    </a>
                                </li>
                            </ul>
                        </nav>
                    <div class="sidebar-footer">
                        <p class="copyright">Copyright &copy; 2022 All
                            rights reserved.</p>
                    </div>
                </div>

            </aside>
            <!--End 左侧导航-->
        </div>

        <!--页面主要内容-->
        <main class="lyear-layout-content">

            <div class="container-fluid p-t-15">
                <div class="row" id="typeEle">
                    <!-- 编写矩形 -->
                </div>
                <div class="row">
                    <!-- 编写表格 -->
                    <div class="container-fluid">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th scope="col">#</th>
                                    <th scope="col">项目品牌</th>
                                    <th scope="col">开始日期</th>
                                    <th scope="col">截止日期</th>
                                    <th scope="col">状态</th>
                                    <th scope="col">进度</th>
                                </tr>
                            </thead>
                            <tbody>
                               
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </main>
        <!--End 页面主要内容-->
    </div>

    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript">


        var obj = {
            url: "http://47.108.131.92:8084/index/getTypeAll",
            type: "GET",
            contentType: "json",
            success: function (data) {
                console.log(data);
                var bglist= ["bg-primary", "bg-danger", "bg-success", "bg-warning"]
                var data = data.data;
                var htmlStr = "";
                for (var i=0; i<data.length; i++){
                    var item = data[i];
                    var itemHtml = '<div class="col-md-6 col-xl-3">' +
                        '<div class="card '+bglist[i] +' text-white">' +
                        '<div class="card-body clearfix">' +
                        '<div class="flex-box">' +
                        '<span class="fs-22 lh-22">' + item.number + '</span>' +
                        '</div>' +
                        '<div class="text-right">' + item.title + '</div>' +
                        '</div>' +
                        '</div>' +
                        '</div>';
                    htmlStr += itemHtml

                }
                $("#typeEle").html(htmlStr);
            },
            error: function () {
                alert("获取数据失败！");
            }
        }
        $.ajax(obj);


        var getObj = {
            url: "http://47.108.131.92:8084/index/getProjectAll",
            type: "GET",
            contentType: "json",
            success: function (data) {
                console.log(data);
                var state = ["badge badge-danger", "badge badge-warning", "badge badge-success", "badge badge-danger", "badge badge-warning"]
                var statename = ["未开始", "待定", "进行中", "暂停", "完成"]
                var data = data.data;
                var htmlStr = "";
                for (var i = 0; i < data.length; i++) {
                    var item = data[i];
                    var itemHtml = '<tr>' +
                        '<td>' + item.id + '</td>' +
                        '<td>' + item.name + '</td>' +
                        '<td>' + item.startTime + '</td>' +
                        '<td>' + item.endTime + '</td>' +
                        '<td> <sapn class="'+ state[item.stateType]+'">'+statename[item.stateType]+'</span></td>' +
                        '<td>' +
                         '<div class="progress"</div>' +
                        '<div class="progress  prohress-striped bg-success progress-sm "' +
                        '<div class="progress-bar  progress-bar-primary"' +
                        'style="width:' + item.proccessVal + '%;"></div>' +
                        '</div>' +
                        '</td>' +
                        '</tr>';
                    htmlStr += itemHtml

                }
                $("tbody").html(htmlStr);
            },
            error: function () {
                alert("获取数据失败！")
            }
        }
        $.ajax(getObj);
    </script>
</body>

</html>